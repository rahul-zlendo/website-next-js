(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{20063:(e,t,l)=>{"use strict";var a=l(47260);l.o(a,"useParams")&&l.d(t,{useParams:function(){return a.useParams}}),l.o(a,"usePathname")&&l.d(t,{usePathname:function(){return a.usePathname}}),l.o(a,"useRouter")&&l.d(t,{useRouter:function(){return a.useRouter}}),l.o(a,"useSearchParams")&&l.d(t,{useSearchParams:function(){return a.useSearchParams}})},24033:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(71847).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},26497:(e,t,l)=>{"use strict";l.d(t,{N:()=>b});var a=l(95155),r=l(12115),n=l(60296),o=l(94416),s=l(86553),i=l(59686),c=l(81402),d=l(53127);function m(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,l=(0,c.s)(e)&&e.offsetWidth||0,a=(0,c.s)(e)&&e.offsetHeight||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=l-r.width-r.left,r.bottom=a-r.height-r.top}return null}componentDidUpdate(){}render(){return this.props.children}}function p(e){var t,l;let{children:n,isPresent:o,anchorX:s,anchorY:i,root:c,pop:p}=e,h=(0,r.useId)(),f=(0,r.useRef)(null),x=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=(0,r.useContext)(d.Q),y=function(...e){return r.useCallback(function(...e){return t=>{let l=!1,a=e.map(e=>{let a=m(e,t);return l||"function"!=typeof a||(l=!0),a});if(l)return()=>{for(let t=0;t<a.length;t++){let l=a[t];"function"==typeof l?l():m(e[t],null)}}}}(...e),e)}(f,null!=(l=null==(t=n.props)?void 0:t.ref)?l:null==n?void 0:n.ref);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:l,left:a,right:r,bottom:n}=x.current;if(o||!1===p||!f.current||!e||!t)return;f.current.dataset.motionPopId=h;let d=document.createElement("style");g&&(d.nonce=g);let m=null!=c?c:document.head;return m.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(h,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===s?"left: ".concat(a):"right: ".concat(r),"px !important;\n            ").concat("bottom"===i?"bottom: ".concat(n):"top: ".concat(l),"px !important;\n          }\n        ")),()=>{m.contains(d)&&m.removeChild(d)}},[o]),(0,a.jsx)(u,{isPresent:o,childRef:f,sizeRef:x,pop:p,children:!1===p?n:r.cloneElement(n,{ref:y})})}let h=e=>{let{children:t,initial:l,isPresent:n,onExitComplete:s,custom:c,presenceAffectsLayout:d,mode:m,anchorX:u,anchorY:h,root:x}=e,g=(0,o.M)(f),y=(0,r.useId)(),b=!0,v=(0,r.useMemo)(()=>(b=!1,{id:y,initial:l,isPresent:n,custom:c,onExitComplete:e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;s&&s()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[n,g,s]);return d&&b&&(v={...v}),(0,r.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[n]),r.useEffect(()=>{n||g.size||!s||s()},[n]),t=(0,a.jsx)(p,{pop:"popLayout"===m,isPresent:n,anchorX:u,anchorY:h,root:x,children:t}),(0,a.jsx)(i.t.Provider,{value:v,children:t})};function f(){return new Map}var x=l(75601);let g=e=>e.key||"";function y(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:l,initial:i=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:m="sync",propagate:u=!1,anchorX:p="left",anchorY:f="top",root:b}=e,[v,w]=(0,x.xQ)(u),N=(0,r.useMemo)(()=>y(t),[t]),j=u&&!v?[]:N.map(g),_=(0,r.useRef)(!0),k=(0,r.useRef)(N),S=(0,o.M)(()=>new Map),z=(0,r.useRef)(new Set),[E,A]=(0,r.useState)(N),[R,C]=(0,r.useState)(N);(0,s.E)(()=>{_.current=!1,k.current=N;for(let e=0;e<R.length;e++){let t=g(R[e]);j.includes(t)?(S.delete(t),z.current.delete(t)):!0!==S.get(t)&&S.set(t,!1)}},[R,j.length,j.join("-")]);let I=[];if(N!==E){let e=[...N];for(let t=0;t<R.length;t++){let l=R[t],a=g(l);j.includes(a)||(e.splice(t,0,l),I.push(l))}return"wait"===m&&I.length&&(e=I),C(y(e)),A(N),null}let{forceRender:P}=(0,r.useContext)(n.L);return(0,a.jsx)(a.Fragment,{children:R.map(e=>{let t=g(e),r=(!u||!!v)&&(N===R||j.includes(t));return(0,a.jsx)(h,{isPresent:r,initial:(!_.current||!!i)&&void 0,custom:l,presenceAffectsLayout:d,mode:m,root:b,onExitComplete:r?void 0:()=>{if(z.current.has(t)||(z.current.add(t),!S.has(t)))return;S.set(t,!0);let e=!0;S.forEach(t=>{t||(e=!1)}),e&&(null==P||P(),C(k.current),u&&(null==w||w()),c&&c())},anchorX:p,anchorY:f,children:e},t)})})}},52987:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(71847).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},57828:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(71847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},68032:(e,t,l)=>{Promise.resolve().then(l.bind(l,92429))},83457:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(71847).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},92429:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>w});var a=l(95155),r=l(12115),n=l(62907),o=l(26497),s=l(24033),i=l(83457),c=l(57828),d=l(52987),m=l(52619),u=l.n(m),p=l(20063),h=l(34171),f=l(38701),x=l(94704),g=l(20960),y=l(72639),b=l(67173),v=l(97017);function w(){var e;let{getPath:t}=(0,g.S)(),l=(0,h.j)(),m=(0,p.useRouter)(),{activeTemplates:w,isLoading:N,error:j}=(0,h.G)(e=>e.template),[_,k]=(0,r.useState)({}),[S,z]=(0,r.useState)(new Set),[E,A]=(0,r.useState)("all"),[R,C]=(0,r.useState)(null),[I,P]=(0,r.useState)(!1),U=(0,r.useRef)(null),{activeRoomStyles:L}=(0,h.G)(e=>e.roomStyle);(0,r.useEffect)(()=>{l((0,f.L)()),l((0,x.V)())},[l]);let T=(0,r.useMemo)(()=>{let e=new Set;return w.forEach(t=>{t.room_TypeName&&""!==t.room_TypeName.trim()&&e.add(t.room_TypeName)}),Array.from(e).sort()},[w]);(0,r.useEffect)(()=>{let e=e=>{U.current&&!U.current.contains(e.target)&&P(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let M=(0,r.useMemo)(()=>{let e=w;return e="all"===E?w:"fullhouse"===E?w.filter(e=>"Full House"===e.template_TypeName):w.filter(e=>e.room_TypeName===E),null!==R&&(e=e.filter(e=>e.template_Style===R)),e},[w,E,R]),W=e=>{if(!e||"string"!=typeof e)return!1;try{if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/"))return new URL(e,e.startsWith("/")?window.location.origin:void 0),!0;return e.startsWith("blob:")||e.length>0}catch(e){return!1}},F=async e=>{if(!(!e.thumbnail_Url||_[e.template_Id]||S.has(e.template_Id))){if(!W(e.thumbnail_Url))return void console.warn("Invalid thumbnail URL for template ".concat(e.template_Name,":"),e.thumbnail_Url);z(t=>new Set(t).add(e.template_Id));try{let t=await (0,y.NS)(e.thumbnail_Url);t&&t.startsWith("blob:")?k(l=>({...l,[e.template_Id]:t})):console.warn("Invalid blob URL returned for template ".concat(e.template_Id,":"),t)}catch(t){console.error("Failed to load image for template ".concat(e.template_Name,":"),t)}finally{z(t=>{let l=new Set(t);return l.delete(e.template_Id),l})}}};return(0,r.useEffect)(()=>{0!==M.length&&M.forEach(e=>{if(e.thumbnail_Url&&W(e.thumbnail_Url)){var t;let l={...e,template_StyleName:null!=(t=e.template_StyleName)?t:void 0};_[e.template_Id]||S.has(e.template_Id)||F(l)}})},[M]),console.log(w,"activeTemplates"),(0,a.jsx)("div",{className:"min-h-screen bg-white font-nunito pt-20",children:(0,a.jsxs)("main",{className:"container-custom px-6 lg:px-12 py-12",children:[(0,a.jsxs)("div",{className:"mb-8 text-center",children:[(0,a.jsx)(n.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-black text-zlendo-grey-dark mb-4",children:"All Design Templates"}),(0,a.jsx)(n.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-zlendo-grey-medium font-medium opacity-70 max-w-2xl mx-auto mb-8",children:"Explore our complete collection of professionally designed templates for every room in your home."})]}),!N&&w.length>0&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-12 flex flex-wrap items-center justify-center gap-3 px-4 relative",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3 flex-1",children:[(0,a.jsx)("button",{onClick:()=>A("all"),className:"px-6 py-2.5 rounded-full font-black text-sm uppercase tracking-wider transition-all duration-200 ".concat("all"===E?"bg-zlendo-teal text-white shadow-lg shadow-zlendo-teal/30 scale-105":"bg-gray-100 text-zlendo-grey-medium hover:bg-gray-200 hover:text-zlendo-grey-dark"),children:"All Spaces"}),(0,a.jsx)("button",{onClick:()=>A("fullhouse"),className:"px-6 py-2.5 rounded-full font-black text-sm uppercase tracking-wider transition-all duration-200 ".concat("fullhouse"===E?"bg-zlendo-teal text-white shadow-lg shadow-zlendo-teal/30 scale-105":"bg-gray-100 text-zlendo-grey-medium hover:bg-gray-200 hover:text-zlendo-grey-dark"),children:"Full House"}),T.map(e=>(0,a.jsx)("button",{onClick:()=>A(e),className:"px-6 py-2.5 rounded-full font-black text-sm uppercase tracking-wider transition-all duration-200 ".concat(E===e?"bg-zlendo-teal text-white shadow-lg shadow-zlendo-teal/30 scale-105":"bg-gray-100 text-zlendo-grey-medium hover:bg-gray-200 hover:text-zlendo-grey-dark"),children:e},e))]}),(0,a.jsxs)("div",{className:"relative",ref:U,children:[(0,a.jsxs)("button",{onClick:()=>P(!I),className:"px-6 py-2.5 rounded-full font-black text-sm uppercase tracking-wider transition-all duration-200 flex items-center gap-2 ".concat(null!==R?"bg-zlendo-teal text-white shadow-lg shadow-zlendo-teal/30 scale-105":"bg-gray-100 text-zlendo-grey-medium hover:bg-gray-200 hover:text-zlendo-grey-dark"),children:[(0,a.jsx)("span",{children:null!==R&&(null==(e=L.find(e=>e.roomStyleId===R))?void 0:e.roomStyleName)||"Style"}),(0,a.jsx)(s.A,{className:"w-4 h-4 transition-transform duration-200 ".concat(I?"rotate-180":"")})]}),(0,a.jsx)(o.N,{children:I&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-2xl shadow-2xl border border-black/5 p-2 z-50 max-h-64 overflow-y-auto",children:[(0,a.jsx)("div",{className:"text-[10px] font-black uppercase tracking-widest text-zlendo-grey-medium opacity-40 px-3 py-2",children:"Select Style"}),(0,a.jsx)("button",{onClick:()=>{C(null),P(!1)},className:"w-full text-left px-3 py-2 rounded-xl text-sm font-bold transition-colors ".concat(null===R?"bg-zlendo-teal/10 text-zlendo-teal":"text-zlendo-grey-dark hover:bg-gray-100"),children:"All Styles"}),L.map(e=>(0,a.jsx)("button",{onClick:()=>{C(e.roomStyleId),P(!1)},className:"w-full text-left px-3 py-2 rounded-xl text-sm font-bold transition-colors ".concat(R===e.roomStyleId?"bg-zlendo-teal/10 text-zlendo-teal":"text-zlendo-grey-dark hover:bg-gray-100"),children:e.roomStyleName},e.roomStyleId))]})})]})]}),N&&(0,a.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-zlendo-teal border-t-transparent rounded-full animate-spin"})}),j&&!N&&(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsx)("p",{className:"text-red-500 font-bold text-lg mb-4",children:"Error loading templates"}),(0,a.jsx)("p",{className:"text-zlendo-grey-medium",children:j})]}),!N&&!j&&0===M.length&&(0,a.jsx)("div",{className:"text-center py-20",children:(0,a.jsx)("p",{className:"text-zlendo-grey-medium font-medium text-lg mb-4",children:"No templates found for the selected filter."})}),!N&&!j&&M.length>0&&(0,a.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:M.map(e=>{let l=_[e.template_Id]||e.thumbnail_Url||void 0,r=S.has(e.template_Id);return(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-6},className:"group relative rounded-2xl overflow-visible cursor-pointer shadow-lg hover:shadow-xl transition-all bg-white",onClick:()=>(e=>{let l=(0,v.IK)(e);m.push(t("/template-detail?templateId=".concat(l))),(0,b.mV)(e,"Template","View").catch(e=>{console.error("Error adding template view:",e)})})(e.template_Id),children:[(0,a.jsx)("div",{className:"aspect-[4/3] overflow-hidden bg-gray-100 relative rounded-[18px] m-1.5 w-[calc(100%-12px)]",children:r?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 rounded-[16px]",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-zlendo-teal border-t-transparent rounded-full animate-spin"})}):(0,a.jsxs)(a.Fragment,{children:[l?(0,a.jsx)("img",{src:l,alt:e.template_Name||"Template",loading:"lazy",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",borderRadius:"14px",transition:"transform 0.5s ease"},className:"group-hover:scale-105",onLoad:()=>{},onError:t=>{let a=t.currentTarget;if(console.error("[ViewAllTemplatesPage] Failed to load image for template ".concat(e.template_Id,":"),{processedImageUrl:l,thumbnail_Url:e.thumbnail_Url,isBlob:l.startsWith("blob:")}),l.startsWith("blob:")&&e.thumbnail_Url){let t=e.thumbnail_Url.startsWith("http")?e.thumbnail_Url:"".concat(y.Qb).concat(e.thumbnail_Url).concat(e.thumbnail_Url.includes("?")?"&":"?").concat(y.mX);if(a.src!==t){console.log("[ViewAllTemplatesPage] Falling back to direct URL for template ".concat(e.template_Id)),a.src=t;return}}a.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23f1f5f9" width="400" height="300"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%2394a3b8" font-family="Arial" font-size="16"%3EImage not available%3C/text%3E%3C/svg%3E'}}):null,(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-[14px] pointer-events-none"})]})}),(0,a.jsxs)("div",{className:"p-4 flex flex-col gap-2",children:[(0,a.jsx)("h3",{className:"text-zlendo-grey-dark font-black text-base leading-tight line-clamp-2 min-h-[2.5rem]",children:e.template_Name||"Untitled Template"}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-auto pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[e.room_TypeName&&(0,a.jsx)("span",{className:"px-2 py-1 bg-zlendo-teal/10 text-zlendo-teal font-bold text-[10px] uppercase tracking-widest rounded-md",children:e.room_TypeName}),e.template_StyleName&&(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-zlendo-grey-medium font-bold text-[10px] uppercase tracking-widest rounded-md",children:e.template_StyleName})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-zlendo-grey-medium opacity-60 text-xs font-bold bg-gray-50 px-2.5 py-1.5 rounded-lg border border-black/5",children:[(0,a.jsx)(i.A,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{children:e.likeCount||0})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-zlendo-grey-medium opacity-60 text-xs font-bold bg-gray-50 px-2.5 py-1.5 rounded-lg border border-black/5",children:[(0,a.jsx)(c.A,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{children:e.viewCount||0})]}),(0,a.jsxs)("span",{className:"text-zlendo-teal font-black text-sm flex items-center gap-1 group-hover:gap-2 transition-all",children:["View ",(0,a.jsx)(d.A,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]})]})]},e.template_Id)})}),(0,a.jsx)("div",{className:"mt-12 text-center",children:(0,a.jsxs)(u(),{href:t(""),className:"inline-flex items-center gap-2 text-zlendo-teal font-black hover:underline",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 rotate-180"}),"Back to Home"]})})]})})}},94704:(e,t,l)=>{"use strict";l.d(t,{A:()=>i,V:()=>s});var a=l(43404),r=l(46549);let n=l(27586).H.ROOM_MASTER,o={getAllRoomStylesService:async()=>{try{return(await r.A.get(n.GET_ALL_ROOM_STYLES)).data}catch(e){throw console.error("Failed to get all room styles:",e),e}}},s=(0,a.zD)("roomStyles/getAllRoomStyles",async(e,t)=>{let{rejectWithValue:l}=t;try{return await o.getAllRoomStylesService()}catch(e){return l((e instanceof Error?e.message:null)||"Failed to load room styles")}}),i=(0,a.Z0)({name:"roomStyle",initialState:{isLoading:!1,roomStyles:[],activeRoomStyles:[],error:null},reducers:{},extraReducers:e=>{e.addCase(s.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.isLoading=!1,e.roomStyles=t.payload,e.activeRoomStyles=t.payload.filter(e=>e.isActive),e.error=null}).addCase(s.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}).reducer}},e=>{e.O(0,[2619,317,9873,5070,8441,1255,7358],()=>e(e.s=68032)),_N_E=e.O()}]);