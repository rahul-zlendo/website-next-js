(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1546],{77543:(e,t,l)=>{Promise.resolve().then(l.bind(l,95226))},89359:(e,t,l)=>{"use strict";l.d(t,{EC:()=>a.EC,Rr:()=>a.Rr,aW:()=>a.aW});var a=l(25505)},95226:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>E});var a=l(95155),i=l(12115),r=l(62907),s=l(26497),n=l(37354),o=l(83457),c=l(57828),d=l(5917),m=l(75426),h=l(17181),u=l(60235),g=l(52987),x=l(65229),p=l(52619),f=l.n(p),b=l(20063),v=l(20960),w=l(34171),y=l(25505),j=l(38701),N=l(72639),k=l(67173),C=l(89359),z=l(97017);function _(){let{getPath:e}=(0,v.S)(),t=(0,b.useRouter)(),l=(0,b.useSearchParams)(),[p,_]=(0,i.useState)(!1),I=(0,w.j)(),{activeTemplates:E,isLoading:T}=(0,w.G)(e=>e.template),[U,L]=(0,i.useState)(null),[F,S]=(0,i.useState)([]),[P,A]=(0,i.useState)([]),[W,R]=(0,i.useState)(0),[D,M]=(0,i.useState)(!1),[X,H]=(0,i.useState)(!1),[V,B]=(0,i.useState)({}),[Q,G]=(0,i.useState)({}),{user:K,isAuthenticated:O}=(0,w.G)(e=>e.auth),[q,J]=(0,i.useState)(!1),[Z,Y]=(0,i.useState)(!1),[$,ee]=(0,i.useState)(!1),[et,el]=(0,i.useState)(!1),[ea,ei]=(0,i.useState)(!1),[er,es]=(0,i.useState)(!1),en=(0,i.useMemo)(()=>{let e=l.get("templateId");return e?(0,z.dt)(e):""},[l]),eo=(0,i.useMemo)(()=>{if(!en)return null;let e=Number(en);return E.find(t=>t.template_Id===e)||null},[en,E]);(0,i.useEffect)(()=>{0!==E.length||T||I((0,j.L)())},[I,E.length,T]),(0,i.useEffect)(()=>{(async()=>{if(O&&(null==K?void 0:K.userId)&&en){J(!1),ee(!1);try{let e=await (0,k.uZ)(K.userId,Number(en));if(e){let t=Array.isArray(e)?e[0]:e;t&&(J(!!t.isLiked),ee(!!t.isFavorited))}}catch(e){console.error("Error fetching user interactions:",e)}}else J(!1),ee(!1)})()},[O,null==K?void 0:K.userId,en]),(0,i.useEffect)(()=>{R(0)},[en]),(0,i.useEffect)(()=>{(null==eo?void 0:eo.thumbnail_Url)&&(H(!0),(0,N.NS)(eo.thumbnail_Url).then(e=>{L(e),S([e]),H(!1)}).catch(e=>{console.error("Failed to load main thumbnail:",e),L(eo.thumbnail_Url),S(eo.thumbnail_Url?[eo.thumbnail_Url]:[]),H(!1)}))},[eo]),(0,i.useEffect)(()=>{(null==eo?void 0:eo.multiple_ThumbnailUrls)&&eo.multiple_ThumbnailUrls.length>0?(async()=>{let e=[],t={};eo.multiple_ThumbnailUrls.forEach((e,l)=>{t[l]=!0}),B(t);let l=eo.multiple_ThumbnailUrls.map(async(t,l)=>{try{let a=await (0,N.NS)(t);return e[l]=a,B(e=>({...e,[l]:!1})),a}catch(a){return console.error("Failed to load thumbnail ".concat(l,":"),a),e[l]=t,B(e=>({...e,[l]:!1})),t}});await Promise.all(l),A(e)})():(A([]),B({}))},[eo]);let ec=(0,i.useMemo)(()=>{if(!eo)return[];let e=eo.room_TypeName,t=E.filter(t=>t.template_Id!==eo.template_Id&&t.room_TypeName===e&&null!==t.room_TypeName&&""!==t.room_TypeName.trim());return t.length>=4?t.slice(0,4).map(e=>({id:e.template_Id,title:e.template_Name||"Untitled Template",img:e.thumbnail_Url||"",originalImg:e.thumbnail_Url||""})):[...t,...E.filter(t=>t.template_Id!==eo.template_Id&&(t.room_TypeName!==e||!e))].slice(0,4).map(e=>({id:e.template_Id,title:e.template_Name||"Untitled Template",img:e.thumbnail_Url||"",originalImg:e.thumbnail_Url||""}))},[E,eo]);(0,i.useEffect)(()=>{ec.forEach(e=>{e.originalImg&&!Q[e.id]&&(0,N.NS)(e.originalImg).then(t=>{G(l=>({...l,[e.id]:t}))}).catch(t=>{console.error("Failed to load image for similar template ".concat(e.id,":"),t),G(t=>({...t,[e.id]:e.originalImg}))})})},[ec]),(0,i.useEffect)(()=>{!T&&E.length>0&&!eo&&en&&t.push(e("/viewalltemplates"))},[T,E,eo,en,t,e]);let ed=(0,i.useMemo)(()=>{if(!eo)return{title:"Template Not Found",category:"",style:"",description:"",mainImage:"",thumbnails:[],tags:[]};let e=[];eo.room_TypeName&&e.push(eo.room_TypeName),eo.template_StyleName&&e.push(eo.template_StyleName),eo.template_TypeName&&e.push(eo.template_TypeName);let t=[...F.length>0?F:eo.thumbnail_Url?[eo.thumbnail_Url]:[],...P],l=t[W]||U||eo.thumbnail_Url||"";return{title:eo.template_Name||"Untitled Template",category:eo.room_TypeName||"",style:eo.template_StyleName||"",description:eo.description||"",mainImage:l,thumbnails:t,tags:e}},[eo,U,F,P,W]),em=async l=>{try{await (0,k.mV)(l,"Template","View")}catch(e){console.error("Error adding template view:",e)}let a=(0,z.IK)(l);t.push(e("/template-detail?templateId=".concat(a))),window.scrollTo(0,0)},eh=()=>{M(!1)};(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&D&&M(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[D]);let eu=async()=>{if(!O||!K)return void t.push(C.aW);if(en&&!Z){Y(!0);try{let e=!q;await (0,k.XG)(Number(en),K.userId,e,e,"Template",e?"Like":"Unlike"),J(e)}catch(e){console.error("Error liking template:",e)}finally{Y(!1)}}},eg=async()=>{if(!O)return void t.push(C.aW);if(en&&K){el(!0);try{let e=!$;await (0,k.WJ)(Number(en),K.userId,e,"Template",e?"AddFavorite":"RemoveFavorite"),ee(e)}catch(e){console.error("Error favoriting template:",e)}finally{el(!1)}}},ex=e=>{let t=window.location.href,l="Check out this amazing design: ".concat(ed.title),a=ed.mainImage,i="";switch(e){case"facebook":i="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t));break;case"x":i="https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(t),"&text=").concat(encodeURIComponent(l));break;case"pinterest":i="https://pinterest.com/pin/create/button/?url=".concat(encodeURIComponent(t),"&media=").concat(encodeURIComponent(a),"&description=").concat(encodeURIComponent(l));break;case"whatsapp":i="https://api.whatsapp.com/send?text=".concat(encodeURIComponent(l+" "+t))}i&&window.open(i,"_blank","noopener,noreferrer")};return T?(0,a.jsx)("div",{className:"min-h-screen bg-white font-nunito pt-20 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-zlendo-teal border-t-transparent rounded-full animate-spin"})}):en&&!eo&&E.length>0?(0,a.jsx)("div",{className:"min-h-screen bg-white font-nunito pt-20 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-black text-zlendo-grey-dark mb-4",children:"Template Not Found"}),(0,a.jsx)(f(),{href:e("/viewalltemplates"),className:"text-zlendo-teal font-bold hover:underline",children:"Back to Templates"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-white font-nunito pt-3",children:[(0,a.jsx)("div",{className:"container-custom px-4 py-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-bold text-zlendo-grey-medium opacity-60",children:[(0,a.jsx)(f(),{href:e("/"),className:"hover:text-zlendo-teal transition-colors",children:"Home"}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)(f(),{href:e("/viewalltemplates"),className:"hover:text-zlendo-teal transition-colors",children:"Templates"}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)("span",{className:"text-zlendo-grey-dark opacity-100 line-clamp-1",children:ed.title})]})}),(0,a.jsxs)("main",{className:"container-custom px-4 pb-20",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_380px] gap-8 lg:gap-12",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative group rounded-[32px] overflow-hidden bg-gray-100 aspect-[4/3] md:aspect-[16/9] shadow-lg border border-black/5",children:X?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-zlendo-teal border-t-transparent rounded-full animate-spin"})}):ed.mainImage?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.N,{mode:"wait",children:(0,a.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"w-full h-full",children:(0,a.jsx)("img",{src:ed.mainImage,alt:ed.title,className:"w-full h-full object-cover",onError:e=>{var t,l;let a=e.currentTarget;console.error("[TemplateDetailPage] Failed to load main image:",{imageUrl:ed.mainImage,templateId:null==eo?void 0:eo.template_Id,index:W});let i=0===W?null==eo?void 0:eo.thumbnail_Url:null==eo||null==(t=eo.multiple_ThumbnailUrls)?void 0:t[W-1];if((null==(l=ed.mainImage)?void 0:l.startsWith("blob:"))&&i){let e=i.startsWith("http")?i:"".concat(N.Qb).concat(i).concat(i.includes("?")?"&":"?").concat(N.mX);if(a.src!==e){console.log("[TemplateDetailPage] Falling back to direct URL for main image (index ".concat(W,")")),a.src=e;return}}a.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="800" height="600"%3E%3Crect fill="%23f1f5f9" width="800" height="600"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%2394a3b8" font-family="Arial" font-size="16"%3EImage not available%3C/text%3E%3C/svg%3E'}})},W)}),(0,a.jsx)("button",{onClick:()=>{M(!0)},className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",children:(0,a.jsxs)("div",{className:"bg-white/90 backdrop-blur-md px-6 py-3 rounded-full flex items-center gap-2 font-black text-zlendo-grey-dark shadow-xl hover:bg-white transition-colors",children:[(0,a.jsx)(n.A,{className:"w-5 h-5"})," View Fullscreen"]})})]}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-zlendo-grey-medium",children:(0,a.jsx)("p",{children:"Image not available"})})}),ed.thumbnails.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-4 gap-4",children:ed.thumbnails.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>R(t),className:"relative rounded-2xl overflow-hidden aspect-square border-2 transition-all ".concat(W===t?"border-zlendo-teal ring-2 ring-zlendo-teal/30 scale-105":"border-black/5 hover:border-zlendo-teal/50 hover:ring-2 hover:ring-zlendo-teal/20"),children:[V[t]?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-zlendo-teal border-t-transparent rounded-full animate-spin"})}):(0,a.jsx)("img",{src:e,alt:"View ".concat(t+1),className:"w-full h-full object-cover",onError:l=>{var a;let i=l.currentTarget;console.error("[TemplateDetailPage] Failed to load thumbnail ".concat(t+1,":"),{imageUrl:e,templateId:null==eo?void 0:eo.template_Id});let r=0===t?null==eo?void 0:eo.thumbnail_Url:null==eo||null==(a=eo.multiple_ThumbnailUrls)?void 0:a[t-1];if(e.startsWith("blob:")&&r){let e=r.startsWith("http")?r:"".concat(N.Qb).concat(r).concat(r.includes("?")?"&":"?").concat(N.mX);if(i.src!==e){console.log("[TemplateDetailPage] Falling back to direct URL for thumbnail ".concat(t+1)),i.src=e;return}}i.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200"%3E%3Crect fill="%23f1f5f9" width="200" height="200"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%2394a3b8" font-family="Arial" font-size="12"%3EImage not available%3C/text%3E%3C/svg%3E'}}),W===t&&(0,a.jsx)("div",{className:"absolute inset-0 bg-zlendo-teal/10 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-zlendo-teal"})})]},t))})]}),(0,a.jsx)("div",{className:"lg:sticky lg:top-32 h-fit",children:(0,a.jsxs)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white border border-gray-100 rounded-[32px] p-6 md:p-8 shadow-[0_20px_60px_-15px_rgba(0,0,0,0.05)]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6 flex-wrap",children:[ed.category&&(0,a.jsx)("span",{className:"px-3 py-1 bg-zlendo-teal/10 text-zlendo-teal font-black text-xs uppercase tracking-widest rounded-full",children:ed.category}),ed.style&&(0,a.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-zlendo-grey-medium font-bold text-xs uppercase tracking-widest rounded-full",children:ed.style}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-zlendo-grey-medium opacity-60 text-xs font-bold ml-auto px-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:(null==eo?void 0:eo.likeCount)||0})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 ml-2",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:(null==eo?void 0:eo.viewCount)||0})]})]})]}),(0,a.jsx)("h1",{className:"text-3xl font-black text-zlendo-grey-dark leading-tight mb-4",children:ed.title}),(0,a.jsx)("p",{className:"text-lg text-zlendo-grey-medium font-medium opacity-80 leading-relaxed mb-8",children:ed.description}),ed.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-8",children:ed.tags.map(e=>(0,a.jsx)("span",{className:"text-sm font-bold text-zlendo-grey-medium opacity-50 before:content-['#']",children:e},e))}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("button",{onClick:()=>{if(en){let e=(0,z.IK)(en);window.open("".concat(y.Vu,"?type=designfromtemplate&templateId=").concat(e),"_blank","noopener,noreferrer")}},disabled:!en,className:"block w-full text-center py-5 bg-zlendo-teal text-white rounded-2xl font-black text-lg shadow-xl shadow-zlendo-teal/20 hover:scale-[1.02] active:scale-98 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:"Customize this Design"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),_(!0),setTimeout(()=>_(!1),2e3)},className:"flex items-center justify-center gap-2 py-3 bg-gray-50 border border-black/5 rounded-xl font-bold text-zlendo-grey-dark hover:bg-gray-100 transition-colors",children:[p?(0,a.jsx)(d.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(m.A,{className:"w-4 h-4"}),p?"Copied":"Copy Link"]}),(0,a.jsxs)("button",{onClick:()=>ei(!0),className:"flex items-center justify-center gap-2 py-3 bg-gray-50 border border-black/5 rounded-xl font-bold text-zlendo-grey-dark hover:bg-gray-100 transition-colors",children:[(0,a.jsx)(h.A,{className:"w-4 h-4"})," Share"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{onClick:eu,disabled:Z,className:"flex items-center justify-center gap-2 py-3 rounded-xl font-bold transition-all ".concat(q?"bg-red-50 text-red-500 border border-red-100":"bg-gray-50 text-zlendo-grey-dark border border-black/5 hover:bg-gray-100"),children:[(0,a.jsx)(o.A,{className:"w-4 h-4 ".concat(q?"fill-current":"")}),q?"Liked":"Like"]}),(0,a.jsxs)("button",{onClick:eg,disabled:et,className:"flex items-center justify-center gap-2 py-3 rounded-xl font-bold transition-all ".concat($?"bg-zlendo-teal/10 text-zlendo-teal border border-zlendo-teal/20":"bg-gray-50 text-zlendo-grey-dark border border-black/5 hover:bg-gray-100"),children:[(0,a.jsx)(u.A,{className:"w-4 h-4 ".concat($?"fill-current":"")}),$?"Favorited":"Favorite"]})]})]})]})})]}),ec.length>0&&(0,a.jsxs)("div",{className:"mt-20",children:[(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-black text-zlendo-grey-dark mb-8",children:"Similar Design Ideas"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ec.map(e=>(0,a.jsxs)("div",{onClick:()=>em(e.id),className:"group block bg-white rounded-[24px] overflow-hidden border border-black/5 shadow-sm hover:shadow-xl transition-all hover:-translate-y-1 cursor-pointer",children:[(0,a.jsx)("div",{className:"aspect-[4/3] overflow-hidden bg-gray-100 relative",children:Q[e.id]||e.img?(0,a.jsx)("img",{src:Q[e.id]||e.img,alt:e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:t=>{let l=t.currentTarget,a=Q[e.id]||e.img;if(console.error("Failed to load image for similar template ".concat(e.id,":"),{imageUrl:a}),(null==a?void 0:a.startsWith("blob:"))&&e.originalImg){let t=e.originalImg.startsWith("http")?e.originalImg:"".concat(N.Qb).concat(e.originalImg).concat(e.originalImg.includes("?")?"&":"?").concat(N.mX);if(l.src!==t){console.log("[TemplateDetailPage] Falling back to direct URL for similar template ".concat(e.id)),l.src=t;return}}l.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23f1f5f9" width="400" height="300"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%2394a3b8" font-family="Arial" font-size="16"%3EImage not available%3C/text%3E%3C/svg%3E'}}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-zlendo-grey-medium",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-zlendo-teal border-t-transparent rounded-full animate-spin"})})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"font-black text-lg text-zlendo-grey-dark mb-2",children:e.title}),(0,a.jsxs)("span",{className:"text-sm font-bold text-zlendo-teal flex items-center gap-1",children:["View Design ",(0,a.jsx)(g.A,{className:"w-3 h-3 transition-transform group-hover:translate-x-1"})]})]})]},e.id))})]})]}),(0,a.jsx)(s.N,{children:D&&ed.mainImage&&(0,a.jsxs)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-black/95 backdrop-blur-sm flex items-center justify-center p-4",onClick:eh,children:[(0,a.jsx)("button",{onClick:eh,className:"absolute top-4 right-4 z-50 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-full p-3 transition-all group","aria-label":"Close fullscreen",children:(0,a.jsx)(x.A,{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform"})}),(0,a.jsx)(r.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"relative max-w-[95vw] max-h-[95vh] w-full h-full flex items-center justify-center",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(s.N,{mode:"wait",children:(0,a.jsx)(r.P.img,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},src:ed.mainImage,alt:ed.title,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",onError:e=>{var t,l;let a=e.currentTarget;console.error("[TemplateDetailPage] Failed to load fullscreen image:",{imageUrl:ed.mainImage,templateId:null==eo?void 0:eo.template_Id,index:W});let i=0===W?null==eo?void 0:eo.thumbnail_Url:null==eo||null==(t=eo.multiple_ThumbnailUrls)?void 0:t[W-1];if((null==(l=ed.mainImage)?void 0:l.startsWith("blob:"))&&i){let e=i.startsWith("http")?i:"".concat(N.Qb).concat(i).concat(i.includes("?")?"&":"?").concat(N.mX);if(a.src!==e){console.log("[TemplateDetailPage] Falling back to direct URL for fullscreen image (index ".concat(W,")")),a.src=e;return}}a.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="800" height="600"%3E%3Crect fill="%23f1f5f9" width="800" height="600"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%2394a3b8" font-family="Arial" font-size="16"%3EImage not available%3C/text%3E%3C/svg%3E'}},W)})}),ed.thumbnails.length>1&&(0,a.jsx)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex gap-3 z-50",children:ed.thumbnails.map((e,t)=>(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),R(t)},className:"rounded-lg overflow-hidden border-2 transition-all ".concat(W===t?"border-zlendo-teal ring-2 ring-zlendo-teal/50 scale-110":"border-white/30 hover:border-white/60"),children:(0,a.jsx)("img",{src:e,alt:"Thumbnail ".concat(t+1),className:"w-16 h-16 object-cover",onError:l=>{var a;let i=l.currentTarget,r=0===t?null==eo?void 0:eo.thumbnail_Url:null==eo||null==(a=eo.multiple_ThumbnailUrls)?void 0:a[t-1];if((null==e?void 0:e.startsWith("blob:"))&&r){let e=r.startsWith("http")?r:"".concat(N.Qb).concat(r).concat(r.includes("?")?"&":"?").concat(N.mX);if(i.src!==e){console.log("[TemplateDetailPage] Falling back to direct URL for fullscreen thumbnail ".concat(t+1)),i.src=e;return}}i.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="64" height="64"%3E%3Crect fill="%23f1f5f9" width="64" height="64"/%3E%3C/svg%3E'}})},t))}),ed.thumbnails.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),R(e=>e>0?e-1:ed.thumbnails.length-1)},className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-50 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-full p-3 transition-all group","aria-label":"Previous image",children:(0,a.jsx)(g.A,{className:"w-6 h-6 text-white rotate-180 group-hover:scale-110 transition-transform"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),R(e=>e<ed.thumbnails.length-1?e+1:0)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-50 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-full p-3 transition-all group","aria-label":"Next image",children:(0,a.jsx)(g.A,{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform"})})]}),ed.thumbnails.length>1&&(0,a.jsx)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50 bg-white/10 backdrop-blur-md rounded-full px-4 py-2",children:(0,a.jsxs)("span",{className:"text-white font-bold text-sm",children:[W+1," / ",ed.thumbnails.length]})})]})}),(0,a.jsx)(s.N,{children:ea&&(0,a.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[10000] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>ei(!1),children:(0,a.jsxs)(r.P.div,{initial:{scale:.9,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.9,y:20,opacity:0},className:"bg-white rounded-[32px] overflow-hidden w-full max-w-[500px] shadow-2xl relative",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"aspect-video w-full bg-gray-100 p-4",children:(0,a.jsx)("img",{src:ed.mainImage,alt:ed.title,className:"w-full h-full object-cover rounded-2xl shadow-sm",onError:e=>{var t,l;let a=e.currentTarget,i=0===W?null==eo?void 0:eo.thumbnail_Url:null==eo||null==(t=eo.multiple_ThumbnailUrls)?void 0:t[W-1];if((null==(l=ed.mainImage)?void 0:l.startsWith("blob:"))&&i){let e=i.startsWith("http")?i:"".concat(N.Qb).concat(i).concat(i.includes("?")?"&":"?").concat(N.mX);if(a.src!==e){console.log("[TemplateDetailPage] Falling back to direct URL for share modal preview (index ".concat(W,")")),a.src=e;return}}a.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23f1f5f9" width="400" height="300"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%2394a3b8" font-family="Arial" font-size="16"%3EImage not available%3C/text%3E%3C/svg%3E'}})}),(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h2",{className:"text-[22px] font-black text-zlendo-grey-dark",children:"Share this with your social community"}),(0,a.jsx)("button",{onClick:()=>ei(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,a.jsx)(x.A,{className:"w-6 h-6 text-zlendo-grey-medium opacity-40 hover:opacity-100"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>ex("facebook"),className:"w-14 h-14 rounded-full bg-[#1877F2] flex items-center justify-center text-white hover:scale-110 transition-transform shadow-lg shadow-[#1877F2]/20",children:(0,a.jsx)("svg",{className:"w-6 h-6 fill-current",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,a.jsx)("span",{className:"text-[11px] font-bold text-zlendo-grey-medium",children:"Facebook"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>ex("x"),className:"w-14 h-14 rounded-full bg-black flex items-center justify-center text-white hover:scale-110 transition-transform shadow-lg shadow-black/10",children:(0,a.jsx)("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,a.jsx)("span",{className:"text-[11px] font-bold text-zlendo-grey-medium",children:"X"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>ex("pinterest"),className:"w-14 h-14 rounded-full bg-[#E60023] flex items-center justify-center text-white hover:scale-110 transition-transform shadow-lg shadow-[#E60023]/20",children:(0,a.jsx)("svg",{className:"w-6 h-6 fill-current",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.965 1.406-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.112.224.083.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.261 7.929-7.261 4.162 0 7.398 2.966 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.033-1.002 2.324-1.492 3.121C10.587 23.83 11.288 24 12.017 24c6.622 0 12-5.378 12-12S18.639 0 12.017 0z"})})}),(0,a.jsx)("span",{className:"text-[11px] font-bold text-zlendo-grey-medium",children:"Pinterest"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>ex("whatsapp"),className:"w-14 h-14 rounded-full bg-[#25D366] flex items-center justify-center text-white hover:scale-110 transition-transform shadow-lg shadow-[#25D366]/20",children:(0,a.jsx)("svg",{className:"w-6 h-6 fill-current",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.298A11.715 11.715 0 0012.03 0C5.439 0 .074 5.365.072 11.957c0 2.105.548 4.16 1.591 5.969L0 24l6.182-1.622a11.742 11.742 0 005.844 1.556h.005c6.59 0 11.956-5.365 11.958-11.958a11.707 11.707 0 00-3.579-8.479z"})})}),(0,a.jsx)("span",{className:"text-[11px] font-bold text-zlendo-grey-medium",children:"WhatsApp"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),es(!0),setTimeout(()=>es(!1),2e3)},className:"w-14 h-14 rounded-full flex items-center justify-center text-white hover:scale-110 transition-all shadow-lg ".concat(er?"bg-green-500 shadow-green-500/20":"bg-[#FF7A00] shadow-[#FF7A00]/20"),children:er?(0,a.jsx)(d.A,{className:"w-6 h-6"}):(0,a.jsx)("svg",{className:"w-6 h-6 fill-current",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M10.158 12L10.518 11.64C10.741 11.417 11.082 11.417 11.305 11.64L14.475 14.81C14.698 15.033 14.698 15.374 14.475 15.597L13.035 17.037C11.59 18.482 9.245 18.482 7.8 17.037L6.36 15.597C4.915 14.152 4.915 11.807 6.36 10.362L7.8 8.922C8.023 8.699 8.364 8.699 8.587 8.922L8.947 9.282M13.842 12L13.482 12.36C13.259 12.583 12.918 12.583 12.695 12.36L9.525 9.19C9.302 8.967 9.302 8.626 9.525 8.403L10.965 6.963C12.41 5.518 14.755 5.518 16.2 6.963L17.64 8.403C19.085 9.848 19.085 12.193 17.64 13.638L16.2 15.078C15.977 15.301 15.636 15.301 15.413 15.078L15.053 14.718"})})}),(0,a.jsx)("span",{className:"text-[11px] font-bold text-zlendo-grey-medium",children:er?"Copied!":"Copy Link"})]})]})]})]})})})]})}function I(){return(0,a.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-zlendo-teal border-t-transparent rounded-full animate-spin"})})}function E(){return(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(I,{}),children:(0,a.jsx)(_,{})})}}},e=>{e.O(0,[2619,317,9873,4567,5070,8441,1255,7358],()=>e(e.s=77543)),_N_E=e.O()}]);